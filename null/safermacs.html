<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN">
<!-- This collection of hypertext pages is Copyright 1995-2005 by Steve Summit. -->
<!-- Content from the book "C Programming FAQs: Frequently Asked Questions" -->
<!-- (Addison-Wesley, 1995, ISBN 0-201-84519-9) is made available here by -->
<!-- permission of the author and the publisher as a service to the community. -->
<!-- It is intended to complement the use of the published text -->
<!-- and is protected by international copyright laws. -->
<!-- The on-line content may be accessed freely for personal use -->
<!-- but may not be published or retransmitted without explicit permission. -->
<!-- -->
<!-- this page built Sat Dec 24 21:47:45 2005 by faqproc version 2.7 -->
<!-- from source file null.sgml dated Wed Dec 21 13:03:25 2005 -->
<!-- corresponding to FAQ list version 4.0 -->
<html>
<head>
<meta name=GENERATOR content="faqproc">
<title>Question 5.6</title>
<link href="machnon0.html" rev=precedes>
<link href="long0.html" rel=precedes>
<link href="index.html" rev=subdocument>
</head>
<body bgcolor="#ffffff">
<a href="machnon0.html" rev=precedes><img src="../images/buttonleft.gif" alt="prev"></a>
<a href="index.html" rev=subdocument><img src="../images/buttonup.gif" alt="up"></a>
<a href="long0.html" rel=precedes><img src="../images/buttonright.gif" alt="next"></a>
&nbsp;
<a href="../index.html"><img src="../images/buttontop.gif" alt="top/contents"></a>
<a href="../search.html"><img src="../images/buttonsrch.gif" alt="search"></a>
<hr>
<p><!-- qbegin -->
<h1>
comp.lang.c FAQ list
<font color=blue>&middot;</font>
<!-- qtag -->Question 5.6
</h1>
<p>
<font face=Helvetica size=8 color=blue><b>Q:</b></font>
If <TT>NULL</TT> were defined as
follows:
<pre>
	#define NULL ((char *)0)
</pre>
wouldn't that make function calls which pass an uncast <TT>NULL</TT> work?
</p><p><hr>
<p>
<font face=Helvetica size=8 color=blue><b>A:</b></font>
Not in
the most general case.
The
complication
is that there are machines which
use different
internal

representations for
pointers to different types of data.
The suggested definition would make uncast <TT>NULL</TT> arguments to
functions expecting pointers to characters work correctly,
but pointer arguments of other types could still
(in the absence of prototypes)
require explicit casts.
Furthermore,
legal
constructions such as
<pre>
	FILE *fp = NULL;
</pre>
could fail.
</p><p>Nevertheless,
ANSI C allows the alternate
definition
<pre>
	#define NULL ((void *)0)
</pre>
for <TT>NULL</TT>.
<a href="voidpassign.html" rel=subdocument>[footnote]</a>
Besides
potentially

helping


incorrect programs to

work
(but only on machines with homogeneous pointers,
thus

questionably valid assistance),
this definition may catch programs which use <TT>NULL</TT> incorrectly
(e.g. when the ASCII NUL character was really intended;
see question
<a href="nullor0.html">5.9</a>).
See also question <a href="long0.html">5.7</a>.
</p><p>At any rate, ANSI function prototypes ensure that most
(though not quite all; see question <a href="null2.html">5.2</a>)
pointer arguments are converted correctly
when passed as function arguments,
so the question is largely moot.
</p><p>Programmers who are accustomed to
modern, ``flat'' memory architectures may
find the idea of ``different kinds of pointers''
very difficult to accept.
See question
<a href="machexamp.html">5.17</a>
for some


examples.
</p>
<p>References:

Rationale Sec. 4.1.5
<br></p><!-- aend -->
<p>
<hr>
<a href="machnon0.html" rev=precedes><img src="../images/buttonleft.gif" alt="prev"></a>
<a href="index.html" rev=subdocument><img src="../images/buttonup.gif" alt="up"></a>
<a href="long0.html" rel=precedes><img src="../images/buttonright.gif" alt="next"></a>
&nbsp;
<a href="../questions.html"><img src="../images/buttontop.gif" alt="contents"></a>
<a href="../search.html"><img src="../images/buttonsrch.gif" alt="search"></a>
<br><!-- lastfooter -->
<a href="../about.html">about this FAQ list</a>
&nbsp;
<a href="../eskimo.html">about eskimo</a>
&nbsp;
<a href="../search.html">search</a>
&nbsp;
<a href="../feedback.html">feedback</a>
&nbsp;
<a href="copyright.html">copyright</a>
<p>
Hosted by
<a href="http://www.eskimo.com/"><img src="http://www.eskimo.com/img/link/eskitiny.gif" alt="Eskimo North"></a>
</body>
</html>
