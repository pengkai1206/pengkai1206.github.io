<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN">
<!-- This collection of hypertext pages is Copyright 1995-2005 by Steve Summit. -->
<!-- Content from the book "C Programming FAQs: Frequently Asked Questions" -->
<!-- (Addison-Wesley, 1995, ISBN 0-201-84519-9) is made available here by -->
<!-- permission of the author and the publisher as a service to the community. -->
<!-- It is intended to complement the use of the published text -->
<!-- and is protected by international copyright laws. -->
<!-- The on-line content may be accessed freely for personal use -->
<!-- but may not be published or retransmitted without explicit permission. -->
<!-- -->
<!-- this page built Sat Dec 24 21:47:46 2005 by faqproc version 2.7 -->
<!-- from source file cpp.sgml dated Wed Dec 21 13:52:14 2005 -->
<!-- corresponding to FAQ list version 4.0 -->
<html>
<head>
<meta name=GENERATOR content="faqproc">
<title>C Preprocessor</title>
</head>
<body bgcolor="#ffffff">
&nbsp;
<a href="../index.html"><img src="../images/buttontop.gif" alt="top/contents"></a>
<a href="../search.html"><img src="../images/buttonsrch.gif" alt="search"></a>
<hr>
<H1>10. C Preprocessor</H1>

<p><a href="safemacros.html" rel=subdocument>10.1</a>
I'm trying to define
a few simple little function-like macros
such as
<pre>
	#define square(x) x * x
</pre>
but they're not always working.
</p><p><a href="slm.html" rel=subdocument>10.2</a>
Here are
some cute preprocessor macros:
<pre>
	#define begin	{
	#define end	}
</pre>
With these,
I can write C code that looks more like Pascal.
What do y'all think?
</p><p><a href="swapmacro.html" rel=subdocument>10.3</a>
How can I write a generic macro to swap two values?
</p><p><a href="multistmt.html" rel=subdocument>10.4</a>
What's the best way to write a multi-statement macro?
</p><p><a href="typedefvsdefine.html" rel=subdocument>10.5</a>
What's the difference between using a <TT>typedef</TT>
or

a <TT>#define</TT>
for a user-defined type?

</p><p><a href="constvsdefine.html" rel=subdocument>10.5b</a>
What's the difference between
<pre>
	const MAXSIZE = 100;
</pre>
<pre>
and
</pre>
<pre>
	#define MAXSIZE 100
</pre>
</p><p><a href="hfiles.html" rel=subdocument>10.6</a>
I'm splitting up a program
into multiple source files
for the first time,

and I'm wondering what to put in <TT>.c</TT> files
and what to put in <TT>.h</TT> files.
(What does ``<TT>.h</TT>''
mean,
anyway?)
</p><p><a href="nestincl.html" rel=subdocument>10.7</a>
Is it acceptable for one header file to <TT>#include</TT> another?
</p><p><a href="inclkinds.html" rel=subdocument>10.8a</a>
What's the difference between
<TT>#include&nbsp;&lt;&gt;</TT>
and
<TT>#include&nbsp;""</TT>
?
</p><p><a href="cppsearchpath.html" rel=subdocument>10.8b</a>
What are the complete rules for header file searching?
</p><p><a href="headerglom.html" rel=subdocument>10.9</a>
I'm getting strange
syntax errors
on the very first
declaration in
a file,
but it looks fine.

</p><p><a href="def3rdparty.html" rel=subdocument>10.10</a>
I'm using header files
which
accompany two different third-party libraries,
and they are ``helpfully'' defining
common macros such as <TT>TRUE</TT>,
<TT>FALSE</TT>,
<TT>Min()</TT>,
and <TT>Max()</TT>,

but the definitions clash with each other
and with definitions I'd

already established in my own header files.
What can I do?
</p><p><a href="extlibs.html" rel=subdocument>10.10b</a>
I'm #including the
right
header file for
the library function I'm using,
but the linker keeps saying it's undefined.
</p><p><a href="missinghdr.html" rel=subdocument>10.11</a>
I'm compiling a program, and
I seem to be missing
one
of the
header files it
requires.
Can someone send me
a copy?
</p><p><a href="ifstrcmp.html" rel=subdocument>10.12</a>
How can I construct preprocessor <TT>#if</TT> expressions
which compare strings?
</p><p><a href="ifexpr.html" rel=subdocument>10.13</a>
Does the <TT>sizeof</TT> operator work in preprocessor <TT>#if</TT> directives?
</p><p><a href="ifddef.html" rel=subdocument>10.14</a>
Can I use an <TT>#ifdef</TT> in a <TT>#define</TT> line,
to define something two different
ways,
like this?
<pre>
	#define a b \
	#ifdef whatever
		c d
	#else
		e f g
	#endif
</pre>
</p><p><a href="iftypedef.html" rel=subdocument>10.15</a>
Is there 



anything like
an <TT>#ifdef</TT> for <TT>typedef</TT>s?
</p><p><a href="ifendian.html" rel=subdocument>10.16</a>
How can I use a preprocessor <TT>#if</TT> expression to
tell
whether a machine's byte order
is big-endian or little-endian?
</p><p><a href="ifdefsyntax.html" rel=subdocument>10.17</a>
I'm getting strange syntax errors inside
lines
I've
<TT>#ifdef</TT>fed out.

</p><p><a href="unifdef.html" rel=subdocument>10.18</a>
I inherited some code
which contains far too many <TT>#ifdef</TT>'s for my taste.
How can I preprocess
the
code
to
leave only one conditional compilation set,
without running it through the preprocessor
and expanding all of the <TT>#include</TT>'s and <TT>#define</TT>'s as well?
</p><p><a href="listpredef.html" rel=subdocument>10.19</a>
How can I list all of the predefined identifiers?
</p><p><a href="oldpaste.html" rel=subdocument>10.20</a>
I have some old code that tries to construct identifiers with a
macro like
<pre>
#define Paste(a, b) a/**/b</pre>

but it doesn't work any more.
</p><p><a href="charize.html" rel=subdocument>10.21</a>
I have an old macro
<pre>
#define&nbsp;CTRL(c)&nbsp;('c'&nbsp;&amp;&nbsp;037)</pre>


that doesn't
seem to
work any more.
</p><p><a href="macstrexp2.html" rel=subdocument>10.22</a>
Why is the macro
<pre>
	#define TRACE(n) printf("TRACE: %d\n", n)
</pre>
giving me the warning ``macro replacement within a string literal''?
It seems to be expanding
<pre>
	TRACE(count);
</pre>
as
<pre>
	printf("TRACE: %d\count", count);
</pre>
</p><p><a href="macstrexp1.html" rel=subdocument>10.23</a>
How can I
use
a macro argument
inside
a string
literal
in the macro expansion?
</p><p><a href="stringize.html" rel=subdocument>10.24</a>
I'm trying to use
the ANSI ``stringizing'' preprocessing operator
`<TT>#</TT>'
to insert the value of a symbolic constant into a message,
but it keeps
stringizing the macro's name rather than its
value.

</p><p><a href="notgeneral.html" rel=subdocument>10.25</a>
I've got this tricky preprocessing I want to do
and
I can't figure out a way
to do it.
</p><p><a href="varargs.html" rel=subdocument>10.26</a>
How can I write a macro which takes a variable number of
arguments,
or use the preprocessor to ``turn off'' a function call with a
variable number of arguments?
</p><p><a href="debugmacs.html" rel=subdocument>10.27</a>
How can I include expansions of the <TT>__FILE__</TT>
and <TT>__LINE__</TT> macros
in a general-purpose debugging macro?
</p><hr>
<p>
<a href="../index.html">top</a>
</p>
<p>
<a href="../questions.html"><img src="../images/buttontop.gif" alt="contents"></a>
<a href="../search.html"><img src="../images/buttonsrch.gif" alt="search"></a>
<br>
<a href="../about.html">about this FAQ list</a>
&nbsp;
<a href="../eskimo.html">about eskimo</a>
&nbsp;
<a href="../search.html">search</a>
&nbsp;
<a href="../feedback.html">feedback</a>
&nbsp;
<a href="copyright.html">copyright</a>
<p>
Hosted by
<a href="http://www.eskimo.com/"><img src="http://www.eskimo.com/img/link/eskitiny.gif" alt="Eskimo North"></a>
</p>
</body>
</html>
