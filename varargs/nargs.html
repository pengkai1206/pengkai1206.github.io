<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN">
<!-- This collection of hypertext pages is Copyright 1995-2005 by Steve Summit. -->
<!-- Content from the book "C Programming FAQs: Frequently Asked Questions" -->
<!-- (Addison-Wesley, 1995, ISBN 0-201-84519-9) is made available here by -->
<!-- permission of the author and the publisher as a service to the community. -->
<!-- It is intended to complement the use of the published text -->
<!-- and is protected by international copyright laws. -->
<!-- The on-line content may be accessed freely for personal use -->
<!-- but may not be published or retransmitted without explicit permission. -->
<!-- -->
<!-- this page built Sat Dec 24 21:47:46 2005 by faqproc version 2.7 -->
<!-- from source file varargs.sgml dated Sun Nov 25 08:09:42 2001 -->
<!-- corresponding to FAQ list version 4.0 -->
<html>
<head>
<meta name=GENERATOR content="faqproc">
<title>Question 15.8</title>
<link href="oldvarargs.html" rev=precedes>
<link href="onefixedarg.html" rel=precedes>
<link href="index.html" rev=subdocument>
</head>
<body bgcolor="#ffffff">
<a href="oldvarargs.html" rev=precedes><img src="../images/buttonleft.gif" alt="prev"></a>
<a href="index.html" rev=subdocument><img src="../images/buttonup.gif" alt="up"></a>
<a href="onefixedarg.html" rel=precedes><img src="../images/buttonright.gif" alt="next"></a>
&nbsp;
<a href="../index.html"><img src="../images/buttontop.gif" alt="top/contents"></a>
<a href="../search.html"><img src="../images/buttonsrch.gif" alt="search"></a>
<hr>
<p><!-- qbegin -->
<h1>
comp.lang.c FAQ list
<font color=blue>&middot;</font>
<!-- qtag -->Question 15.8
</h1>
<p>
<font face=Helvetica size=8 color=blue><b>Q:</b></font>
How can I discover how many arguments a function was actually
called with?
</p><p><hr>
<p>
<font face=Helvetica size=8 color=blue><b>A:</b></font>
This information is not available to a portable program.
Some old systems provided a nonstandard <TT>nargs</TT>
function,
but its use was always questionable,
since it typically returned the number
of words passed,
not the number of arguments.
(Structures,
<TT>long int</TT>s,
and
floating point values
are usually passed as
several words.)
</p><p>Any function which takes a variable number of arguments must be
able to determine

<em>from the arguments themselves</em>
how many of them
there are.

<TT>printf</TT>-like functions do this by looking for formatting
specifiers (<TT>%d</TT> and the like) in the format string (which is why
these functions fail badly if the format string does not match
the argument list).
Another common technique,
applicable
when the arguments are all of the same type,
is to use a sentinel
value
(often 0, -1, or an appropriately-cast null pointer)
at the end of the list
(see the
<TT>execl</TT>
and
<TT>vstrcat</TT>
examples
in
questions
<a href="../null/null2.html">5.2</a>
and
<a href="varargs1.html">15.4</a>).
Finally,



if the
types are predictable,
you can pass an explicit count of the number of variable arguments
(although it's usually a nuisance for the caller to supply).


</p>
<p>References:

PCS Sec. 11 pp. 167-8
<br></p><!-- aend -->
<p>
<hr>
<a href="oldvarargs.html" rev=precedes><img src="../images/buttonleft.gif" alt="prev"></a>
<a href="index.html" rev=subdocument><img src="../images/buttonup.gif" alt="up"></a>
<a href="onefixedarg.html" rel=precedes><img src="../images/buttonright.gif" alt="next"></a>
&nbsp;
<a href="../questions.html"><img src="../images/buttontop.gif" alt="contents"></a>
<a href="../search.html"><img src="../images/buttonsrch.gif" alt="search"></a>
<br><!-- lastfooter -->
<a href="../about.html">about this FAQ list</a>
&nbsp;
<a href="../eskimo.html">about eskimo</a>
&nbsp;
<a href="../search.html">search</a>
&nbsp;
<a href="../feedback.html">feedback</a>
&nbsp;
<a href="copyright.html">copyright</a>
<p>
Hosted by
<a href="http://www.eskimo.com/"><img src="http://www.eskimo.com/img/link/eskitiny.gif" alt="Eskimo North"></a>
</body>
</html>
