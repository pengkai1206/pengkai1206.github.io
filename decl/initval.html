<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN">
<!-- This collection of hypertext pages is Copyright 1995-2005 by Steve Summit. -->
<!-- Content from the book "C Programming FAQs: Frequently Asked Questions" -->
<!-- (Addison-Wesley, 1995, ISBN 0-201-84519-9) is made available here by -->
<!-- permission of the author and the publisher as a service to the community. -->
<!-- It is intended to complement the use of the published text -->
<!-- and is protected by international copyright laws. -->
<!-- The on-line content may be accessed freely for personal use -->
<!-- but may not be published or retransmitted without explicit permission. -->
<!-- -->
<!-- this page built Sat Dec 24 21:47:45 2005 by faqproc version 2.7 -->
<!-- from source file init.sgml dated Fri Jul  2 21:52:44 2004 -->
<!-- corresponding to FAQ list version 4.0 -->
<html>
<head>
<meta name=GENERATOR content="faqproc">
<title>Question 1.30</title>
<link href="namespace.html" rev=precedes>
<link href="autoaggrinit.html" rel=precedes>
<link href="index.html" rev=subdocument>
</head>
<body bgcolor="#ffffff">
<a href="namespace.html" rev=precedes><img src="../images/buttonleft.gif" alt="prev"></a>
<a href="index.html" rev=subdocument><img src="../images/buttonup.gif" alt="up"></a>
<a href="autoaggrinit.html" rel=precedes><img src="../images/buttonright.gif" alt="next"></a>
&nbsp;
<a href="../index.html"><img src="../images/buttontop.gif" alt="top/contents"></a>
<a href="../search.html"><img src="../images/buttonsrch.gif" alt="search"></a>
<hr>
<p><!-- qbegin -->
<h1>
comp.lang.c FAQ list
<font color=blue>&middot;</font>
<!-- qtag -->Question 1.30
</h1>
<p>
<font face=Helvetica size=8 color=blue><b>Q:</b></font>
What
am I allowed to
assume about the initial values of variables
and arrays
which are not explicitly initialized?
<br>If global variables start out as ``zero'',
is that good enough
for null pointers and floating-point zeroes?
</p><p><hr>
<p>
<font face=Helvetica size=8 color=blue><b>A:</b></font>
Uninitialized
variables
with
<a href="../sx1/index.html#static"><dfn>static</dfn></a>
duration

(that is,
those declared outside of functions,
and those declared with the storage class <TT>static</TT>),
are guaranteed
to
start out as
zero,
just
as if the programmer had typed ``<TT>=&nbsp;0</TT>''
or ``<TT>=&nbsp;{0}</TT>''.
Therefore,
such variables are
implicitly
initialized
to the null pointer
(of the correct type;
see also section
<a href="../null/index.html">5</a>)
if they are pointers,
and
to 0.0 if they are floating-point.
<a href="zerofill.html" rel=subdocument>[footnote]</a>
</p><p>Variables with
<a href="../sx1/index.html#automatic"><dfn>automatic</dfn></a>
duration
(i.e. local variables without the <TT>static</TT> storage class)
start out containing garbage,
unless they are explicitly initialized.
(Nothing useful can be predicted about the garbage.)
If they
do have initializers,
they are initialized each time the function
is
called
(or,
for variables local to inner blocks,
each time the block is entered
at the
top<a href="jumpinto.html" rel=subdocument>[footnote]</a>
).
</p><p>These rules do apply to arrays and structures
(termed <a href="../sx1/index.html#aggregates"><dfn>aggregates</dfn></a>);
arrays and structures are considered ``variables''
as far as initialization is concerned.
When
an automatic array or structure
has
a partial initializer,
the remainder
is initialized to 0,
just as for statics.
<a href="krerr.html" rel=subdocument>[footnote]</a>
See also question <a href="autoaggrinit.html">1.31</a>.
</p><p>Finally,
dynamically-allocated memory
obtained with <TT>malloc</TT> and <TT>realloc</TT>
is likely to contain garbage,
and must be initialized by the calling program,
as appropriate.
Memory obtained with <TT>calloc</TT>
is
all-bits-0,
but this is not necessarily useful
for pointer or floating-point values
(see question
<a href="../malloc/calloc.html">7.31</a>,
and section
<a href="../null/index.html">5</a>).
</p>












<p>References:

K&amp;R1 Sec. 4.9 pp. 82-4
<br>
K&amp;R2 Sec. 4.9 pp. 85-86
<br>
ISO Sec. 6.5.7, Sec. 7.10.3.1, Sec. 7.10.5.3
<br>
H&amp;S Sec. 4.2.8 pp. 72-3, Sec. 4.6 pp. 92-3, Sec. 4.6.2 pp. 94-5, Sec. 4.6.3 p. 96, Sec. 16.1 p. 386
<br></p><!-- aend -->
<p>
<hr>
<a href="namespace.html" rev=precedes><img src="../images/buttonleft.gif" alt="prev"></a>
<a href="index.html" rev=subdocument><img src="../images/buttonup.gif" alt="up"></a>
<a href="autoaggrinit.html" rel=precedes><img src="../images/buttonright.gif" alt="next"></a>
&nbsp;
<a href="../questions.html"><img src="../images/buttontop.gif" alt="contents"></a>
<a href="../search.html"><img src="../images/buttonsrch.gif" alt="search"></a>
<br><!-- lastfooter -->
<a href="../about.html">about this FAQ list</a>
&nbsp;
<a href="../eskimo.html">about eskimo</a>
&nbsp;
<a href="../search.html">search</a>
&nbsp;
<a href="../feedback.html">feedback</a>
&nbsp;
<a href="copyright.html">copyright</a>
<p>
Hosted by
<a href="http://www.eskimo.com/"><img src="http://www.eskimo.com/img/link/eskitiny.gif" alt="Eskimo North"></a>
</body>
</html>
